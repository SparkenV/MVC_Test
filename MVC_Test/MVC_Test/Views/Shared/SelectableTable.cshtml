@using BLL.Models;
@model SelectableTableViewModel<Message>;

<table class="table table-hover">
    <thead>
        <tr>
            @foreach (var item in Model.ColumnNames)
            {
                <th scope="col">@item</th>
            }
        </tr>
    </thead>
    <tbody>
        @for (int i = 0; i < Model.Items.Count; i++)
        {
            <tr onclick="calc('@Model.Items[i].ItemData.Id')">
                <td>
                    @Html.CheckBox(
                        $"SelectableTableViewModel.Items[{i}].IsSelected",
                        Model.Items[i].IsSelected, 
                        new {id = $"checkbox-{@Model.Items[i].ItemData.Id}"})
                </td>
                <td>
                    @Html.Label($"SelectableTableViewModel.Items[{i}].ItemData.Id", Model.Items[i].ItemData.Id)
                    @Html.Hidden($"SelectableTableViewModel.Items[{i}].ItemData.Id", Model.Items[i].ItemData.Id)
                </td>
                <td>
                    @Html.Label($"SelectableTableViewModel.Items[{i}].ItemData.Name", Model.Items[i].ItemData.Name)
                    @Html.Hidden($"SelectableTableViewModel.Items[{i}].ItemData.Name", Model.Items[i].ItemData.Name)
                </td>
                <td>
                    @Html.Label($"SelectableTableViewModel.Items[{i}].ItemData.Type", Model.Items[i].ItemData.Type)
                    @Html.Hidden($"SelectableTableViewModel.Items[{i}].ItemData.Type", Model.Items[i].ItemData.Type)
                </td>
                <td>
                    @Html.Label($"SelectableTableViewModel.Items[{i}].ItemData.Description", Model.Items[i].ItemData.Description)
                    @Html.Hidden($"SelectableTableViewModel.Items[{i}].ItemData.Description", Model.Items[i].ItemData.Description)
                </td>
            </tr>
        }
    </tbody>
</table>

<script>
    function calc(id) {
        console.log(id);
        document.getElementById("checkbox-" + id).checked = !document.getElementById("checkbox-" + id).checked
    }
</script>